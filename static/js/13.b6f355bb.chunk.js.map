{"version":3,"file":"static/js/13.b6f355bb.chunk.js","mappings":"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","sources":["webpack://react_project_education/./src/componets/Profile/MyPosts/MyPosts.module.css?af06","webpack://react_project_education/./src/componets/Profile/MyPosts/Post/Post.module.css?87d2","componets/Profile/MyPosts/Post/Post.jsx","componets/Profile/MyPosts/Post/AddNewPostForm.jsx","componets/Profile/MyPosts/MyPosts.jsx","componets/Profile/MyPosts/MyPostsContainer.jsx","componets/Profile/Profile.module.css","webpack://react_project_education/./src/componets/Profile/ProfileInfo/ProfileInfo.module.css?6a76","componets/Profile/ProfileInfo/ProfileStatus.jsx","componets/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","componets/Profile/ProfileInfo/ProfileInfo.jsx","componets/Profile/Profile.jsx","componets/Profile/ProfileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__RHq+X\",\"posts\":\"MyPosts_posts__cVBHT\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__sxtmb\"};","import s from './Post.module.css'\n\nfunction Post(props) {\n   return (\n      <div className={s.item}>\n         <img src={props.avatar} alt=\"ava\"/>\n         {props.message}\n         <div>\n            <span>like:  </span>{props.likeCount}\n         </div>\n      </div>\n   );\n}\n\nexport default Post;","import { Formik } from 'formik';\nimport {  validation } from '../../../../utils/validators/validator';\nimport styles from '../../../common/FormsControl/FormsControl.module.css'\n\n\n//let maxLength5 = (values) => { maxLengthCreator(5) };\n\n\nconst AddNewPostForm = (props) => {\n\n   let maxLength = 50;\n   let newValue = `newPostText`;\n\n   let onAddPost = (values, { setSubmitting }) => {\n      props.addPost(values.newPostText);\n      setTimeout(() => {\n         values.newPostText = \"\"; //очистили форму ввода через 400мс\n         setSubmitting(false); //это активация кнопки после нажатия через 400мс\n      }, 400);\n   }\n\n   return (\n      <div>\n         <Formik\n            initialValues={{ newPostText: '' }}\n            validate={(values) => validation(values, maxLength, newValue)}\n            onSubmit={onAddPost}\n         >\n            {({\n               values,\n               errors,\n               touched,\n               handleChange,\n               handleBlur,\n               handleSubmit,\n               isSubmitting,\n            }) => (\n               <form onSubmit={handleSubmit}>\n                  <div className={errors.newPostText && touched.newPostText\n                     ? styles.formControl + ' ' + styles.error\n                     : ''}>\n                     <textarea\n                        type=\"text\"\n                        name=\"newPostText\"\n                        placeholder=\"Post message\"\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.newPostText}\n                        rows='3'\n                        cols='30'\n                     />\n                  </div>\n                  <div className={styles.formControl + ' ' + styles.error}>\n                     {errors.newPostText && touched.newPostText && errors.newPostText}\n                  </div>\n                  <button type=\"submit\" disabled={isSubmitting}>\n                     Add post\n                  </button>\n               </form>\n            )}\n         </Formik>\n      </div>\n   )\n}\n\nexport default AddNewPostForm;","import React from 'react';\nimport s from './MyPosts.module.css'\nimport Post from './Post/Post';\nimport AddNewPostForm from './Post/AddNewPostForm';\n\nconst MyPosts = (props) => {\n\n   let postsElement = props.posts.map(p => <Post key={p.id} message={p.message} likeCount={p.likeCount} avatar={p.avatar} />)\n\n   return (\n      \n      <div className={s.postsBlock}>\n\n         <h3>My posts</h3>\n\n         <AddNewPostForm addPost={props.addPost} />\n\n         <div className={s.posts}>\n            {postsElement}\n         </div>\n\n      </div>\n   );\n}\n\nexport default MyPosts;","import { addPost, addPostActionCreate } from '../../../Redux/profile-reducer';\nimport MyPosts from './MyPosts';\nimport { connect } from 'react-redux';\n  \n\nlet mapStateToProps = (state) => {\n   return {\n      posts: state.profilePage.posts,\n      newPostText: state.profilePage.newPostText\n   }\n}\n\n// let mapDispatchToProps = (dispatch) => {\n//    return {\n//       addPost: (newPostText) => {\n//          dispatch(addPostActionCreate(newPostText))\n//       }\n//    }\n// }\n\nconst MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts); //переписали без mapDispatchToProps\n\nexport default MyPostsContainer;","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"imageProfile\":\"ProfileInfo_imageProfile__J6YqA\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__jrDiE\",\"addPhotoButton\":\"ProfileInfo_addPhotoButton__XtFup\"};","import React from \"react\";\n\n\nclass ProfileStatus extends React.Component {\n\n   state = {\n      editMode: false,\n      status: this.props.status\n   }\n\n   activateEditMode = () => {\n      this.setState({  //это асинхронный метод, внутрь к-рого передаем объект, к-рый перезапишет св-ва в локальном state\n         editMode: true\n      })\n   }\n\n   deactivateEditMode = () => {  //человек перестал редактировать\n      this.setState({  //это асинхронный метод, внутрь к-рого передаем объект, к-рый перезапишет св-ва в локальном state\n         editMode: false\n      });\n      this.props.updateStatus(this.state.status);\n   }\n\n   onStatusChange = (event) => {\n      this.setState ({     //в state меняем только св-во status\n         status: event.currentTarget.value  //получили новое значение value\n      });\n   }\n\n   componentDidUpdate(prevProps, prevState) {  //для синхронизации локального и глобального state при обновлении\n      if (prevProps.status !== this.props.status) {\n         this.setState({\n            status: this.props.status\n         })\n      }\n   }\n\n   render() {\n      return (\n         <div>\n            {!this.state.editMode &&\n               <div>\n                   <span  onClick={this.activateEditMode}>{this.props.status || '--статус отсутствует--'}</span>  {/*ставили onDoubleClick */}\n               </div>\n            }\n            {this.state.editMode &&\n               <div>\n                  <input onChange={this.onStatusChange} autoFocus={true} \n                  onBlur={this.deactivateEditMode} value={this.state.status} />\n            {/* onBlur - срабатывает когда уходит фокус с элемента    */}\n            {/* autoFocus={true} - автоматически помещает фокус в input */}\n               </div>\n            }\n         </div>\n      )\n   }\n}\n\nexport default ProfileStatus;","import { useEffect, useState } from \"react\"\n\nconst ProfileStatusWithHooks = (props) => {\n\n   let [editMode, setEditMode] = useState(false);\n   let [status, setStatus] = useState(props.status);\n\n   useEffect( () => {\n      setStatus(props.status)\n   }, [props.status]);  //зависимость вызова useEffect\n\n\n   const activateEditMode = () => {\n      setEditMode(true);\n   }\n\n   const deactivateEditMode = () => {\n      setEditMode(false);\n      props.updateStatus(status); //отправили статус на сервер\n   }\n\n   const onStatusChange = (event) => {\n      setStatus (event.currentTarget.value);\n   }\n\n\n   return (\n      <div>\n         {!editMode &&\n            <div>\n                <span  onClick={activateEditMode}>{props.status || '--статус отсутствует--'}</span>  \n            </div>\n         }\n         {editMode &&\n            <div>\n               <input  onChange={onStatusChange} onBlur={deactivateEditMode} value={status} autoFocus={true} \n                 />\n            </div>\n         }\n      </div>\n   )\n}\n\n   export default ProfileStatusWithHooks;\n","import Preloader from '../../common/Preloader/Preloader';\nimport { photo } from '../../common/UserPhoto/userPhoto';\nimport s from './ProfileInfo.module.css'\nimport ProfileStatus from './ProfileStatus';\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\n\nlet ProfileInfo = (props) => {\n\n   if (!props.profile) {  //если нету profile, то вернуть крутилку (работает только с null (profile: null) \n      return <Preloader />  //не работает с (profile: []) будет ошибка при обращении к вложенному объекту)\n   }                          // нужно условие ({props.profile&&props.profile.contacts&&props.profile.contacts.facebook})\n\n   const onMainPhotoSelected = (e) => { //обработчик событий при клике по кнопке file\n      if (e.target.files.length) {  //можно (e.target.files[0])\n         //при клике по кнопке вызываем коллбэк savePhoto. Он передан из ProfileContainer из connect\n         props.savePhoto(e.target.files[0]); \n      }\n   }\n\n   return (\n      <div>\n\n         {/* <div className={s.imageProfile}>  \n            <img src='https://cdn.pixabay.com/photo/2018/04/16/16/16/sunset-3325080_1280.jpg' alt=\"img\"/>\n         </div> */}\n\n         <div className={s.descriptionBlock}>\n            {photo(props.profile, 'large')}\n            {/* <img src={props.profile.photos.large || userPhoto} alt=\"photo\" /> */}\n            \n            {/* покажем кнопку выбора файла аватарки, если это наш профиль */}\n            <div className={s.addPhotoButton}>\n               {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\n            </div>\n            <div>Полное имя: {props.profile.fullName}</div>\n            <div>------</div>\n            <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\n            <div>------</div>\n            <div>Обо мне: {props.profile.aboutMe}</div>\n            <div>Контакты: {props.profile.contacts.facebook}</div>\n            <div>Контакты: {props.profile.contacts.vk}</div>\n            <div>Поиск работы: {props.profile.lookingForAJobDescription}</div>\n         </div>\n\n      </div>\n   );\n}\n\nexport default ProfileInfo;","import MyPostsContainer from './MyPosts/MyPostsContainer';\nimport s from './Profile.module.css'\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\n\nfunction Profile(props) {\n   return (\n      <div className={s.profile}>\n\n         <ProfileInfo profile={props.profile}\n            isOwner={props.isOwner}\n            savePhoto={props.savePhoto}\n            status={props.status}\n            updateStatus={props.updateStatus} />\n         <MyPostsContainer /*store = {props.store}*/ />\n      </div>\n   );\n}\n\nexport default Profile;","import Profile from './Profile';\nimport { connect } from 'react-redux';\nimport { getUserProfile, getStatus, updateStatus, savePhoto } from '../../Redux/profile-reducer';\n//import { useParams } from 'react-router-dom'; //import { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\nimport { withRouter } from '../../hoc/withRouter'; //вынесли в HOC с useParam отдельно\nimport React from 'react';\n\nclass ProfileContainer extends React.Component {\n\n   refreshProfile() { //создали вспомогательный метод, чтобы не было дублирования кода\n      //let userId = this.props.match.params.userId; //было так частный случай\n      let userId = this.props.router.params.userId;  //более общий случай\n\n      if (!userId) {  //если вдруг просто /profile без userId\n         //userId = 29243;\n         userId = this.props.authorizedUserId;\n      }\n      // if (!userId) {     //так почему то не работает. Сделали через модифицированный withAuthRedirect\n      //    this.props.router.navigate('/login');\n      // }\n\n      this.props.getUserProfile(userId);\n      //setTimeout (() => {this.props.getStatus(userId);}, 1000)\n      this.props.getStatus(userId);\n   }\n\n   componentDidMount() {\n      this.refreshProfile();\n   }\n\n   //устраняем баг, чтобы показывало наш профиль при клике на Profile после перехода от клика по юзеру\n   componentDidUpdate(prevProps, prevState, snapshot) {\n      if (this.props.router.params.userId != prevProps.router.params.userId) { //условие чтобы не было зацикленности\n         this.refreshProfile();\n      }\n   }\n\n   render() {\n      return (\n         <Profile {...this.props}\n            isOwner={!this.props.router.params.userId} //если нет id то я собственник - булево значение (для фото аватарки)\n            savePhoto={this.props.savePhoto}\n            profile={this.props.profile}\n            status={this.props.status}\n            updateStatus={this.props.updateStatus} />\n      );\n   }\n}\n\nlet mapStateToProps = (state) => ({\n   profile: state.profilePage.profile,\n   status: state.profilePage.status,\n   authorizedUserId: state.auth.userId,\n   isAuth: state.auth.isAuth\n})\n\nexport default compose(\n   connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\n   withRouter, //создали отдельный HOC, в общем не нужен, так есть в withAuthRedirect\n   withAuthRedirect //тоже hoc\n)(ProfileContainer)\n\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { withRouter } from \"./withRouter\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n   isAuth: state.auth.isAuth\n})\nexport const withAuthRedirect = (Component) => {\n\n   class RedirectComponent extends React.Component {  //можно сделать и через функциональную компоненту\n\n      render() {\n         //если нет Id в строке браузера, то нет и авторизации - тогда редирект на /login\n         if (this.props.router) {\n            //если нет аутентификации и нет приходящего значения Id из URL, то редирект на /login \n            if (!this.props.isAuth && !this.props.router.params.userId) return <Navigate to='/login' />\n            return <Component {...this.props} />\n         }\n         return <Navigate to='/login' />\n\n         // if (!this.props.isAuth) return <Navigate to='/login' />  //делаем редирект страницы при отсутствии аутентификации\n         //return <Component {...this.props} />\n      }\n   }\n\n   return compose(\n      withRouter, //тогда не нужен withRouter в UsersContainer, DialogsContainer, ProfileContainer\n      connect(mapStateToPropsForRedirect))(RedirectComponent); //законнектили RedirectComponent\n   //т.е. прокинули mapStateToPropsForRedirect через props в RedirectComponent\n\n}\n"],"names":["props","_jsxs","className","s","children","_jsx","src","avatar","alt","message","likeCount","Formik","initialValues","newPostText","validate","values","validation","onSubmit","_ref","setSubmitting","addPost","setTimeout","_ref2","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","styles","type","name","placeholder","onChange","onBlur","value","rows","cols","disabled","postsElement","posts","map","p","Post","id","AddNewPostForm","connect","state","profilePage","MyPosts","React","_useState","useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","onClick","event","currentTarget","updateStatus","autoFocus","profile","Preloader","photo","isOwner","e","target","files","length","savePhoto","fullName","ProfileStatusWithHooks","aboutMe","contacts","facebook","vk","lookingForAJobDescription","ProfileInfo","MyPostsContainer","ProfileContainer","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","userId","this","router","params","authorizedUserId","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","Profile","_objectSpread","compose","auth","isAuth","withRouter","withAuthRedirect","mapStateToPropsForRedirect","Component","RedirectComponent","Navigate","to"],"sourceRoot":""}