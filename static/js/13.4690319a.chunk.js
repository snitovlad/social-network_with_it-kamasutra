"use strict";(self.webpackChunkreact_project_education=self.webpackChunkreact_project_education||[]).push([[13],{8013:function(t,e,s){s.r(e),s.d(e,{default:function(){return B}});var r=s(1413),i=s(5671),n=s(3144),o=s(136),a=s(516),u=s(6868),d=s(2791),l="MyPosts_postsBlock__RHq+X",c="MyPosts_posts__cVBHT",p={item:"Post_item__sxtmb"},h=s(184);var f=function(t){return(0,h.jsxs)("div",{className:p.item,children:[(0,h.jsx)("img",{src:t.avatar,alt:"ava"}),t.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like:  "}),t.likeCount]})]})},x=s(5705),v=s(345),j=s(3985),m=function(t){return(0,h.jsx)("div",{children:(0,h.jsx)(x.J9,{initialValues:{newPostText:""},validate:function(t){return(0,v.U)(t,50,"newPostText")},onSubmit:function(e,s){var r=s.setSubmitting;t.addPost(e.newPostText),setTimeout((function(){e.newPostText="",r(!1)}),400)},children:function(t){var e=t.values,s=t.errors,r=t.touched,i=t.handleChange,n=t.handleBlur,o=t.handleSubmit,a=t.isSubmitting;return(0,h.jsxs)("form",{onSubmit:o,children:[(0,h.jsx)("div",{className:s.newPostText&&r.newPostText?j.Z.formControl+" "+j.Z.error:"",children:(0,h.jsx)("textarea",{type:"text",name:"newPostText",placeholder:"Post message",onChange:i,onBlur:n,value:e.newPostText,rows:"3",cols:"30"})}),(0,h.jsx)("div",{className:j.Z.formControl+" "+j.Z.error,children:s.newPostText&&r.newPostText&&s.newPostText}),(0,h.jsx)("button",{type:"submit",disabled:a,children:"Add post"})]})}})})},P=function(t){var e=t.posts.map((function(t){return(0,h.jsx)(f,{message:t.message,likeCount:t.likeCount,avatar:t.avatar},t.id)}));return(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(m,{addPost:t.addPost}),(0,h.jsx)("div",{className:c,children:e})]})},g=s(3531),S=(0,g.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:u.q2})(P),Z={},k=s(6865),C=s(4365),w="ProfileInfo_descriptionBlock__jrDiE",T=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(){var t;(0,i.Z)(this,s);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,n.Z)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,h.jsxs)("div",{children:[!this.state.editMode&&(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{onClick:this.activateEditMode,children:this.props.status||"--\u0441\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442--"}),"  "]}),this.state.editMode&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}]),s}(d.Component),_=T,b=function(t){return t.profile?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:w,children:[(0,C.h)(t.profile,"large"),(0,h.jsxs)("div",{children:["\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: ",t.profile.fullName]}),(0,h.jsx)("div",{children:"------"}),(0,h.jsx)(_,{status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)("div",{children:"------"}),(0,h.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",t.profile.aboutMe]}),(0,h.jsxs)("div",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",t.profile.contacts.facebook]}),(0,h.jsxs)("div",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",t.profile.contacts.vk]}),(0,h.jsxs)("div",{children:["\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b: ",t.profile.lookingForAJobDescription]})]})}):(0,h.jsx)(k.Z,{})};var y=function(t){return(0,h.jsxs)("div",{className:Z.profile,children:[(0,h.jsx)(b,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(S,{})]})},M=s(1548),N=s(7781),A=s(5628),E=function(t){(0,o.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,h.jsx)(y,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(d.Component),B=(0,N.qC)((0,g.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:u.et,getStatus:u.lR,updateStatus:u.Nf}),A.E,M.D)(E)},1548:function(t,e,s){s.d(e,{D:function(){return x}});var r=s(1413),i=s(5671),n=s(3144),o=s(136),a=s(516),u=s(2791),d=s(3531),l=s(7689),c=s(7781),p=s(5628),h=s(184),f=function(t){return{isAuth:t.auth.isAuth}},x=function(t){var e=function(e){(0,o.Z)(u,e);var s=(0,a.Z)(u);function u(){return(0,i.Z)(this,u),s.apply(this,arguments)}return(0,n.Z)(u,[{key:"render",value:function(){return this.props.router&&(this.props.isAuth||this.props.router.params.userId)?(0,h.jsx)(t,(0,r.Z)({},this.props)):(0,h.jsx)(l.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.qC)(p.E,(0,d.$j)(f))(e)}}}]);
//# sourceMappingURL=13.4690319a.chunk.js.map