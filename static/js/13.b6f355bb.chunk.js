"use strict";(self.webpackChunkreact_project_education=self.webpackChunkreact_project_education||[]).push([[13],{8013:function(t,e,s){s.r(e),s.d(e,{default:function(){return U}});var r=s(1413),n=s(5671),o=s(3144),i=s(136),a=s(516),u=s(6868),l=s(2791),d="MyPosts_postsBlock__RHq+X",c="MyPosts_posts__cVBHT",p={item:"Post_item__sxtmb"},h=s(184);var f=function(t){return(0,h.jsxs)("div",{className:p.item,children:[(0,h.jsx)("img",{src:t.avatar,alt:"ava"}),t.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like:  "}),t.likeCount]})]})},x=s(5705),v=s(345),j=s(3985),m=function(t){return(0,h.jsx)("div",{children:(0,h.jsx)(x.J9,{initialValues:{newPostText:""},validate:function(t){return(0,v.U)(t,50,"newPostText")},onSubmit:function(e,s){var r=s.setSubmitting;t.addPost(e.newPostText),setTimeout((function(){e.newPostText="",r(!1)}),400)},children:function(t){var e=t.values,s=t.errors,r=t.touched,n=t.handleChange,o=t.handleBlur,i=t.handleSubmit,a=t.isSubmitting;return(0,h.jsxs)("form",{onSubmit:i,children:[(0,h.jsx)("div",{className:s.newPostText&&r.newPostText?j.Z.formControl+" "+j.Z.error:"",children:(0,h.jsx)("textarea",{type:"text",name:"newPostText",placeholder:"Post message",onChange:n,onBlur:o,value:e.newPostText,rows:"3",cols:"30"})}),(0,h.jsx)("div",{className:j.Z.formControl+" "+j.Z.error,children:s.newPostText&&r.newPostText&&s.newPostText}),(0,h.jsx)("button",{type:"submit",disabled:a,children:"Add post"})]})}})})},P=function(t){var e=t.posts.map((function(t){return(0,h.jsx)(f,{message:t.message,likeCount:t.likeCount,avatar:t.avatar},t.id)}));return(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(m,{addPost:t.addPost}),(0,h.jsx)("div",{className:c,children:e})]})},g=s(3531),w=(0,g.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:u.q2})(P),k={},_=s(6865),Z=s(4365),C="ProfileInfo_descriptionBlock__jrDiE",S="ProfileInfo_addPhotoButton__XtFup",T=(l.Component,s(9439)),b=function(t){var e=(0,l.useState)(!1),s=(0,T.Z)(e,2),r=s[0],n=s[1],o=(0,l.useState)(t.status),i=(0,T.Z)(o,2),a=i[0],u=i[1];(0,l.useEffect)((function(){u(t.status)}),[t.status]);return(0,h.jsxs)("div",{children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onClick:function(){n(!0)},children:t.status||"--\u0441\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442--"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},onBlur:function(){n(!1),t.updateStatus(a)},value:a,autoFocus:!0})})]})},y=function(t){if(!t.profile)return(0,h.jsx)(_.Z,{});return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:C,children:[(0,Z.h)(t.profile,"large"),(0,h.jsx)("div",{className:S,children:t.isOwner&&(0,h.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})}),(0,h.jsxs)("div",{children:["\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: ",t.profile.fullName]}),(0,h.jsx)("div",{children:"------"}),(0,h.jsx)(b,{status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)("div",{children:"------"}),(0,h.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",t.profile.aboutMe]}),(0,h.jsxs)("div",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",t.profile.contacts.facebook]}),(0,h.jsxs)("div",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",t.profile.contacts.vk]}),(0,h.jsxs)("div",{children:["\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b: ",t.profile.lookingForAJobDescription]})]})})};var I=function(t){return(0,h.jsxs)("div",{className:k.profile,children:[(0,h.jsx)(y,{profile:t.profile,isOwner:t.isOwner,savePhoto:t.savePhoto,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(w,{})]})},N=s(1548),A=s(7781),B=s(5628),D=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.router.params.userId!=t.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(I,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(l.Component),U=(0,A.qC)((0,g.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:u.et,getStatus:u.lR,updateStatus:u.Nf,savePhoto:u.Ju}),B.E,N.D)(D)},1548:function(t,e,s){s.d(e,{D:function(){return x}});var r=s(1413),n=s(5671),o=s(3144),i=s(136),a=s(516),u=s(2791),l=s(3531),d=s(7689),c=s(7781),p=s(5628),h=s(184),f=function(t){return{isAuth:t.auth.isAuth}},x=function(t){var e=function(e){(0,i.Z)(u,e);var s=(0,a.Z)(u);function u(){return(0,n.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){return this.props.router&&(this.props.isAuth||this.props.router.params.userId)?(0,h.jsx)(t,(0,r.Z)({},this.props)):(0,h.jsx)(d.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.qC)(p.E,(0,l.$j)(f))(e)}}}]);
//# sourceMappingURL=13.b6f355bb.chunk.js.map